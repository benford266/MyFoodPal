# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

FoodPal is a recipe recommendation web application built with FastAPI and NiceGUI. Users input their food preferences (likes/dislikes) and receive 5 personalized dinner recipes with shared ingredients and an optimized shopping list.

## Technology Stack

- **Backend**: FastAPI
- **Frontend**: NiceGUI (Python-based web UI framework)
- **LLM Integration**: Ollama API (running on separate server)

## Development Commands

```bash
# Install dependencies
pip install -r requirements.txt

# Run the application
python main.py

# Access the app
# Browser: http://localhost:8080
```

## Architecture

### Core Components

- `main.py`: Main application file containing FastAPI app, NiceGUI interface, and recipe generation logic
- `RecipeGenerator`: Class handling Ollama API communication for recipe generation
- `generate_shopping_list()`: Function to combine ingredients from multiple recipes

### Key Features

1. **User Preferences**: Text areas for liked/disliked foods
2. **Recipe Generation**: 5 dinner recipes optimized for shared ingredients
3. **Shopping List**: Consolidated ingredient list from all recipes
4. **Ollama Integration**: Configurable server URL and model selection

## Configuration

Backend configuration is managed via environment variables:

```bash
# Copy example environment file
cp .env.example .env

# Edit .env file with your settings
OLLAMA_BASE_URL=http://your-ollama-server:11434
OLLAMA_MODEL=llama3
```

- Default: `http://localhost:11434` with `llama3` model
- Configuration is backend-only (not exposed to users)

## Recipe Generation Process

1. User inputs food preferences
2. System generates optimized prompt for Ollama
3. Ollama returns JSON-formatted recipes
4. Recipes are displayed with ingredients and instructions
5. Shopping list is generated by consolidating ingredients